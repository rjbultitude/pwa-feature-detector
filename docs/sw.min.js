const DYNAMIC_STATIC_NAME="dyn-v1a",btnAdd=document.getElementById("add");let deferredPrompt;self.isOnlyIfCached=function(a){if(a.request!==void 0&&"only-if-cached"===a.request.cache&&"same-origin"!==a.request.mode)return!0},self.addEventListener("install",()=>{}),self.addEventListener("activate",()=>self.clients.claim()),self.addEventListener("fetch",function(a){a.respondWith(fetch(a.request).then(function(b){return caches.open(DYNAMIC_STATIC_NAME).then(function(c){return c.put(a.request.url,b.clone()),b})}).catch(function(){return caches.match(a.request).then(function(a){return void 0===a,a})}))}),window.addEventListener("beforeinstallprompt",a=>{deferredPrompt=a,showInstallPromotion()}),btnAdd.addEventListener("click",()=>{btnAdd.style.display="none",deferredPrompt.prompt(),deferredPrompt.userChoice.then(a=>{"accepted"===a.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),deferredPrompt=null})}),window.addEventListener("appinstalled",()=>{console.log("a2hs installed")});