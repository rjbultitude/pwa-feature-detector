((a,b,c)=>{function d(){addBtn.style.display="block"}let f;const g=b.getElementById("add");g.style.display="none";const h=document.getElementById("player"),i=b.getElementById("camera-input"),j=b.getElementById("camera-capture"),k=b.getElementById("camera-capture-stop"),l="Stop video capture";if(h.style.display="none",i.style.display="none",j.style.display="none",k.style.display="none","mediaDevices"in navigator){function a(){navigator.mediaDevices.getUserMedia({video:!0}).then(a=>{h.srcObject=a})}h.style.display="block",i.style.display="block",j.style.display="inline-block",k.style.display="inline-block";const b=i.getContext("2d");j.addEventListener("click",()=>{b.drawImage(h,0,0,i.width,i.height)}),k.addEventListener("click",()=>k.innerText===l?(h.srcObject.getVideoTracks().forEach(a=>a.stop()),void(k.innerText="Start video capture")):void(a(),k.innerText=l)),a()}const m=d=>({"Offline Capabilities":"caches"in a,"Push Notifications":"pushManager"in d,"Add to Home Screen":"relList"in HTMLLinkElement.prototype&&b.createElement("link").relList.supports("manifest")&&"onbeforeinstallprompt"in a,"Background Sync":"sync"in d,"Periodic Background Sync":"periodicSync"in d,"Background Fetch":"backgroundFetch"in d,"Navigation Preload":"navigationPreload"in d,"Storage Estimation":"storage"in c&&"estimate"in c.storage,"Persistent Storage":"storage"in c&&"persist"in c.storage,"Cache storage":"caches"in a,"File System Access":"showOpenFilePicker"in a,"Web Share (Level 1)":"share"in c,"Web Share (Level 2)":"share"in c&&"canShare"in c,"Media Session":"mediaSession"in c,"Media Capabilities":"mediaCapabilities"in c,"Device Memory":"deviceMemory"in c,"Getting Installed Related Apps":"getInstalledRelatedApps"in c,"Payment Request":"PaymentRequest"in a,"Payment Handler":"paymentManager"in d,"Apple Pay Payment Handler":"ApplePaySession"in a,"Credential Management":"credentials"in c&&"preventSilentAccess"in c.credentials&&("PasswordCredential"in a||"FederatedCredential"in a),Bluetooth:"Bluetooth"in a,Gyroscope:"Gyroscope"in a,"Device Orientation":"DeviceOrientationEvent"in a,"Device Motion":"DeviceMotionEvent"in a,"Media input":"mediaDevices"in c}),n=a=>{const c=b.createDocumentFragment(),d=b.getElementById("featureRow"),e=d.content.querySelector(".feature"),f=d.content.querySelector(".support");for(const g in a)a.hasOwnProperty(g)&&(e.textContent=g,f.textContent=a[g]?"Yes":"No",c.appendChild(b.importNode(d.content,!0)));const g=b.getElementById("placeholder");g.parentNode.replaceChild(c,g)};a.addEventListener("load",()=>(b.getElementById("userAgent").textContent=c.userAgent,"serviceWorker"in c?c.serviceWorker.register("sw.min.js").then(a=>{const b=m(a);n(b)}):void n({"Service Workers Not Supported":!1}))),window.addEventListener("beforeinstallprompt",a=>{f=a,console.log("beforeinstallprompt fired",f),d()}),g.addEventListener("click",()=>{f.prompt(),f.userChoice.then(a=>{"accepted"===a.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),f=null})}),window.addEventListener("appinstalled",()=>{console.log("a2hs installed")});const o=()=>"standalone"in window.navigator&&window.navigator.standalone;(()=>{const a=window.navigator.userAgent.toLowerCase();return /iphone|ipad|ipod/.test(a)})()&&!o()&&d()})(window,document,navigator);